<!DOCTYPE html>
<head>
<title>Executive Gender Gap</title>
<link rel="stylesheet" type="text/css" href="{{url_for('static',filename='style.css')}}">
<script type="text/javascript" src="//code.jquery.com/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.8.0/d3.min.js"></script>
<script type="text/javascript" charset="utf-8">
    $(document).ready(function(){
        getPercentages()
      


    });
    
    function getPercentages(){
        var totalCount = 0;
        var menCount =0;
        var womenCount = 0;
        '{% for row in rows %}' 
        '{% if row.company == "ConocoPhillips" %}'
            totalCount += 1;    
            '{% if "Female" in row.gender %}'
                womenCount += 1;
            '{% endif %}'
             '{% if "Male" in row.gender %}'
                menCount += 1;
             '{% endif %}'
         '{% endif %}'
         '{% endfor %}'

        console.log(totalCount, womenCount, menCount)
        var percentage = Math.round(womenCount/totalCount * 100)
        console.log(percentage + '%')
    }
</script>

</head>
<body>

<h3> Forbes 50 </h3>
     <table border = 1>
         <thead>
            <td>Company</td>
            <td>Name</td>
            <td>Link</td>
            <td>Gender</td>
         </thead>
         
         {% for row in rows %}
         {% if row.company == 'ConocoPhillips' %}
            <tr>
               <td> {{row["company"]}}</td>
               <td>{{row["name"]}}</td>
               <td>{{row["link"]}}</td>
               <td> {{ row["gender"]}}</td>
            </tr>
         {% endif %}
         {% endfor %}
      </table>

</body>